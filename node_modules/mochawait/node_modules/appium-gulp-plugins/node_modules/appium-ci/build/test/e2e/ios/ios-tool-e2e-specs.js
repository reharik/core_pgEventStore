'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _this = this;

var _ = require('../../..');

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

require('mochawait');

require('source-map-support').install();

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('ios tools e2e', function () {

  it('spawn as user', function callee$1$0() {
    var proc;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.spawnAsUser('appium', 'ls', ['-l']));

        case 2:
          proc = context$2$0.sent;

          proc.kill();

        case 4:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('spawn as current user', function callee$1$0() {
    var proc;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.spawnAsUser('ls', ['-l']));

        case 2:
          proc = context$2$0.sent;

          proc.kill();

        case 4:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('set simulator scale', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.setIosSimulatorScale());

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('set configure xCode', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.configureXcode('6.1.1'));

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('reset simulators', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.resetSims());

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('kill all', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.killAll());

        case 2:
          context$2$0.next = 4;
          return _regeneratorRuntime.awrap(_.iosTools.killAll('ls'));

        case 4:
          context$2$0.next = 6;
          return _regeneratorRuntime.awrap(_.iosTools.killAll(['ls', 'echo']));

        case 6:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL2lvcy9pb3MtdG9vbC1lMmUtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0JBRXlCLFVBQVU7O29CQUNsQixNQUFNOzs7OzhCQUNJLGtCQUFrQjs7OztRQUN0QyxXQUFXOztBQUxsQixPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQzs7QUFPeEMsa0JBQUssTUFBTSxFQUFFLENBQUM7QUFDZCxrQkFBSyxHQUFHLDZCQUFnQixDQUFDOztBQUV6QixRQUFRLENBQUMsZUFBZSxFQUFFLFlBQU07O0FBRTlCLElBQUUsQ0FBQyxlQUFlLEVBQUM7UUFDYixJQUFJOzs7OzsyQ0FBUyxFQVhaLFFBQVEsQ0FXYSxXQUFXLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7QUFBekQsY0FBSTs7QUFDUixjQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7Ozs7R0FDYixDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLHVCQUF1QixFQUFDO1FBQ3JCLElBQUk7Ozs7OzJDQUFTLEVBaEJaLFFBQVEsQ0FnQmEsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7QUFBL0MsY0FBSTs7QUFDUixjQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7Ozs7R0FDYixDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLHFCQUFxQixFQUFDOzs7OzsyQ0FDakIsRUFyQkQsUUFBUSxDQXFCRSxvQkFBb0IsRUFBRTs7Ozs7OztHQUN0QyxDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLHFCQUFxQixFQUFDOzs7OzsyQ0FDakIsRUF6QkQsUUFBUSxDQXlCRSxjQUFjLENBQUMsT0FBTyxDQUFDOzs7Ozs7O0dBQ3ZDLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsa0JBQWtCLEVBQUM7Ozs7OzJDQUNkLEVBN0JELFFBQVEsQ0E2QkUsU0FBUyxFQUFFOzs7Ozs7O0dBQzNCLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsVUFBVSxFQUFDOzs7OzsyQ0FDTixFQWpDRCxRQUFRLENBaUNFLE9BQU8sRUFBRTs7OzsyQ0FDbEIsRUFsQ0QsUUFBUSxDQWtDRSxPQUFPLENBQUMsSUFBSSxDQUFDOzs7OzJDQUN0QixFQW5DRCxRQUFRLENBbUNFLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzs7Ozs7OztHQUN2QyxDQUFDLENBQUM7Q0FFSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvaW9zL2lvcy10b29sLWUyZS1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ3NvdXJjZS1tYXAtc3VwcG9ydCcpLmluc3RhbGwoKTtcblxuaW1wb3J0IHsgaW9zVG9vbHMgfSBmcm9tICcuLi8uLi8uLic7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBjaGFpQXNQcm9taXNlZCBmcm9tICdjaGFpLWFzLXByb21pc2VkJztcbmltcG9ydCAnbW9jaGF3YWl0JztcblxuY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuZGVzY3JpYmUoJ2lvcyB0b29scyBlMmUnLCAoKSA9PiB7XG5cbiAgaXQoJ3NwYXduIGFzIHVzZXInLGFzeW5jICgpID0+IHtcbiAgICBsZXQgcHJvYyA9IGF3YWl0IGlvc1Rvb2xzLnNwYXduQXNVc2VyKCdhcHBpdW0nLCAnbHMnLCBbJy1sJ10pO1xuICAgIHByb2Mua2lsbCgpO1xuICB9KTtcblxuICBpdCgnc3Bhd24gYXMgY3VycmVudCB1c2VyJyxhc3luYyAoKSA9PiB7XG4gICAgbGV0IHByb2MgPSBhd2FpdCBpb3NUb29scy5zcGF3bkFzVXNlcignbHMnLCBbJy1sJ10pO1xuICAgIHByb2Mua2lsbCgpO1xuICB9KTtcblxuICBpdCgnc2V0IHNpbXVsYXRvciBzY2FsZScsYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGlvc1Rvb2xzLnNldElvc1NpbXVsYXRvclNjYWxlKCk7XG4gIH0pO1xuXG4gIGl0KCdzZXQgY29uZmlndXJlIHhDb2RlJyxhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgaW9zVG9vbHMuY29uZmlndXJlWGNvZGUoJzYuMS4xJyk7XG4gIH0pO1xuXG4gIGl0KCdyZXNldCBzaW11bGF0b3JzJyxhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgaW9zVG9vbHMucmVzZXRTaW1zKCk7XG4gIH0pO1xuXG4gIGl0KCdraWxsIGFsbCcsYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGlvc1Rvb2xzLmtpbGxBbGwoKTtcbiAgICBhd2FpdCBpb3NUb29scy5raWxsQWxsKCdscycpO1xuICAgIGF3YWl0IGlvc1Rvb2xzLmtpbGxBbGwoWydscycsICdlY2hvJ10pO1xuICB9KTtcblxufSk7XG5cbiJdfQ==